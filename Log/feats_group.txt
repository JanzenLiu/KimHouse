# Current Groups
21 features concerning Religion:
['big_church_km', 'church_synagogue_km', 'mosque_km', 'big_church_count_500', 'church_count_500', 'mosque_count_500', 'big_church_count_1000', 'church_count_1000', 'mosque_count_1000', 'big_church_count_1500', 'church_count_1500', 'mosque_count_1500', 'big_church_count_2000', 'church_count_2000', 'mosque_count_2000', 'big_church_count_3000', 'church_count_3000', 'mosque_count_3000', 'big_church_count_5000', 'church_count_5000', 'mosque_count_5000']

67 features concerning Cafe:
['catering_km', 'cafe_count_500', 'cafe_sum_500_min_price_avg', 'cafe_sum_500_max_price_avg', 'cafe_avg_price_500', 'cafe_count_500_na_price', 'cafe_count_500_price_500', 'cafe_count_500_price_1000', 'cafe_count_500_price_1500', 'cafe_count_500_price_2500', 'cafe_count_500_price_4000', 'cafe_count_500_price_high', 'cafe_count_1000', 'cafe_sum_1000_min_price_avg', 'cafe_sum_1000_max_price_avg', 'cafe_avg_price_1000', 'cafe_count_1000_na_price', 'cafe_count_1000_price_500', 'cafe_count_1000_price_1000', 'cafe_count_1000_price_1500', 'cafe_count_1000_price_2500', 'cafe_count_1000_price_4000', 'cafe_count_1000_price_high', 'cafe_count_1500', 'cafe_sum_1500_min_price_avg', 'cafe_sum_1500_max_price_avg', 'cafe_avg_price_1500', 'cafe_count_1500_na_price', 'cafe_count_1500_price_500', 'cafe_count_1500_price_1000', 'cafe_count_1500_price_1500', 'cafe_count_1500_price_2500', 'cafe_count_1500_price_4000', 'cafe_count_1500_price_high', 'cafe_count_2000', 'cafe_sum_2000_min_price_avg', 'cafe_sum_2000_max_price_avg', 'cafe_avg_price_2000', 'cafe_count_2000_na_price', 'cafe_count_2000_price_500', 'cafe_count_2000_price_1000', 'cafe_count_2000_price_1500', 'cafe_count_2000_price_2500', 'cafe_count_2000_price_4000', 'cafe_count_2000_price_high', 'cafe_count_3000', 'cafe_sum_3000_min_price_avg', 'cafe_sum_3000_max_price_avg', 'cafe_avg_price_3000', 'cafe_count_3000_na_price', 'cafe_count_3000_price_500', 'cafe_count_3000_price_1000', 'cafe_count_3000_price_1500', 'cafe_count_3000_price_2500', 'cafe_count_3000_price_4000', 'cafe_count_3000_price_high', 'cafe_count_5000', 'cafe_sum_5000_min_price_avg', 'cafe_sum_5000_max_price_avg', 'cafe_avg_price_5000', 'cafe_count_5000_na_price', 'cafe_count_5000_price_500', 'cafe_count_5000_price_1000', 'cafe_count_5000_price_1500', 'cafe_count_5000_price_2500', 'cafe_count_5000_price_4000', 'cafe_count_5000_price_high']

12 features concerning Sport:
['sport_objects_raion', 'fitness_km', 'swim_pool_km', 'ice_rink_km', 'stadium_km', 'basketball_km', 'sport_count_500', 'sport_count_1000', 'sport_count_1500', 'sport_count_2000', 'sport_count_3000', 'sport_count_5000']

1 features concerning Time:
['timestamp']

14 features concerning Office:
['office_raion', 'office_km', 'office_count_500', 'office_sqm_500', 'office_count_1000', 'office_sqm_1000', 'office_count_1500', 'office_sqm_1500', 'office_count_2000', 'office_sqm_2000', 'office_count_3000', 'office_sqm_3000', 'office_count_5000', 'office_sqm_5000']

23 features concerning Business:
['shopping_centers_raion', 'big_market_raion', 'big_market_km', 'market_shop_km', 'shopping_centers_km', 'trc_count_500', 'trc_sqm_500', 'market_count_500', 'trc_count_1000', 'trc_sqm_1000', 'market_count_1000', 'trc_count_1500', 'trc_sqm_1500', 'market_count_1500', 'trc_count_2000', 'trc_sqm_2000', 'market_count_2000', 'trc_count_3000', 'trc_sqm_3000', 'market_count_3000', 'trc_count_5000', 'trc_sqm_5000', 'market_count_5000']

28 features concerning Population:
['raion_popul', 'full_all', 'male_f', 'female_f', 'young_all', 'young_male', 'young_female', 'work_all', 'work_male', 'work_female', 'ekder_all', 'ekder_male', 'ekder_female', '0_6_all', '0_6_male', '0_6_female', '7_14_all', '7_14_male', '7_14_female', '0_17_all', '0_17_male', '0_17_female', '16_29_all', '16_29_male', '16_29_female', '0_13_all', '0_13_male', '0_13_female']

10 features concerning Building:
['full_sq', 'life_sq', 'floor', 'max_floor', 'material', 'build_year', 'num_room', 'kitch_sq', 'state', 'product_type']

23 features concerning Industry:
['indust_part', 'culture_objects_top_25', 'culture_objects_top_25_raion', 'thermal_power_plant_raion', 'incineration_raion', 'oil_chemistry_raion', 'radiation_raion', 'nuclear_reactor_raion', 'industrial_km', 'incineration_km', 'oil_chemistry_km', 'nuclear_reactor_km', 'radiation_km', 'power_transmission_line_km', 'thermal_power_plant_km', 'ts_km', 'workplaces_km', 'prom_part_500', 'prom_part_1000', 'prom_part_1500', 'prom_part_2000', 'prom_part_3000', 'prom_part_5000']

16 features concerning NbrBldg:
['raion_build_count_with_material_info', 'build_count_block', 'build_count_wood', 'build_count_frame', 'build_count_brick', 'build_count_monolith', 'build_count_panel', 'build_count_foam', 'build_count_slag', 'build_count_mix', 'raion_build_count_with_builddate_info', 'build_count_before_1920', 'build_count_1921-1945', 'build_count_1946-1970', 'build_count_1971-1995', 'build_count_after_1995']

14 features concerning Education:
['children_preschool', 'preschool_quota', 'preschool_education_centers_raion', 'children_school', 'school_quota', 'school_education_centers_raion', 'school_education_centers_top_20_raion', 'university_top_20_raion', 'additional_education_raion', 'kindergarten_km', 'school_km', 'university_km', 'additional_education_km', 'preschool_km']

12 features concerning GrZone:
['green_zone_part', 'green_zone_km', 'water_treatment_km', 'water_km', 'water_1line', 'ecology', 'green_part_500', 'green_part_1000', 'green_part_1500', 'green_part_2000', 'green_part_3000', 'green_part_5000']

32 features concerning TransPos:
['sub_area', 'area_m', 'railroad_terminal_raion', 'ID_metro', 'metro_min_avto', 'metro_km_avto', 'metro_min_walk', 'metro_km_walk', 'railroad_station_walk_km', 'railroad_station_walk_min', 'ID_railroad_station_walk', 'railroad_station_avto_km', 'railroad_station_avto_min', 'ID_railroad_station_avto', 'public_transport_station_km', 'public_transport_station_min_walk', 'mkad_km', 'ttk_km', 'sadovoe_km', 'bulvar_ring_km', 'kremlin_km', 'big_road1_km', 'ID_big_road1', 'big_road1_1line', 'big_road2_km', 'ID_big_road2', 'railroad_km', 'railroad_1line', 'zd_vokzaly_avto_km', 'ID_railroad_terminal', 'bus_terminal_avto_km', 'ID_bus_terminal']

10 features concerning Leisure:
['park_km', 'theater_km', 'museum_km', 'exhibition_km', 'leisure_count_500', 'leisure_count_1000', 'leisure_count_1500', 'leisure_count_2000', 'leisure_count_3000', 'leisure_count_5000']

7 features not assigned to any group yet:
['hospital_beds_raion', 'healthcare_centers_raion', 'detention_facility_raion', 'cemetery_km', 'hospice_morgue_km', 'detention_facility_km', 'public_healthcare_km']

# Number of nan in counts features
cafe_count_500                0
cafe_count_500_na_price       0
cafe_count_500_price_500      0
cafe_count_500_price_1000     0
cafe_count_500_price_1500     0
cafe_count_500_price_2500     0
cafe_count_500_price_4000     0
cafe_count_500_price_high     0
cafe_count_1000               0
cafe_count_1000_na_price      0
cafe_count_1000_price_500     0
cafe_count_1000_price_1000    0
cafe_count_1000_price_1500    0
cafe_count_1000_price_2500    0
cafe_count_1000_price_4000    0
cafe_count_1000_price_high    0
cafe_count_1500               0
cafe_count_1500_na_price      0
cafe_count_1500_price_500     0
cafe_count_1500_price_1000    0
cafe_count_1500_price_1500    0
cafe_count_1500_price_2500    0
cafe_count_1500_price_4000    0
cafe_count_1500_price_high    0
cafe_count_2000               0
cafe_count_2000_na_price      0
cafe_count_2000_price_500     0
cafe_count_2000_price_1000    0
cafe_count_2000_price_1500    0
cafe_count_2000_price_2500    0
cafe_count_2000_price_4000    0
cafe_count_2000_price_high    0
cafe_count_3000               0
cafe_count_3000_na_price      0
cafe_count_3000_price_500     0
cafe_count_3000_price_1000    0
cafe_count_3000_price_1500    0
cafe_count_3000_price_2500    0
cafe_count_3000_price_4000    0
cafe_count_3000_price_high    0
cafe_count_5000               0
cafe_count_5000_na_price      0
cafe_count_5000_price_500     0
cafe_count_5000_price_1000    0
cafe_count_5000_price_1500    0
cafe_count_5000_price_2500    0
cafe_count_5000_price_4000    0
cafe_count_5000_price_high    0
dtype: int64

# Doing PCA on raw counts features...
Reduced to 48 components

# ROV explained by the principal components
[  9.63070292e-01   3.51395627e-02   6.47146671e-04   4.15083811e-04
   2.35317925e-04   1.16675217e-04   7.36393289e-05   5.14470211e-05
   4.35673938e-05   3.87493262e-05   3.19266379e-05   2.44162626e-05
   1.71196916e-05   1.41330716e-05   1.22758005e-05   1.16307782e-05
   8.83703533e-06   8.01574515e-06   7.00964960e-06   4.66858912e-06
   4.18240367e-06   3.72705414e-06   2.79028494e-06   2.66239503e-06
   2.45076230e-06   2.01924832e-06   1.85003991e-06   1.75715534e-06
   1.42558256e-06   9.71239923e-07   8.92744091e-07   7.85008805e-07
   7.10215630e-07   6.46817648e-07   5.28139872e-07   3.17877381e-07
   2.82525855e-07   2.21278704e-07   1.11889057e-07   8.60757402e-08
   4.82843693e-08   1.79974107e-08   1.77857842e-32   7.61618421e-33
   7.61618421e-33   7.61618421e-33   7.61618421e-33   1.29693502e-34]

# ROV explained together by the 2 most principal components
0.9982098550232592

# Number of nan in prices features
cafe_sum_500_min_price_avg     16440
cafe_sum_500_max_price_avg     16440
cafe_avg_price_500             16440
cafe_sum_1000_min_price_avg     7746
cafe_sum_1000_max_price_avg     7746
cafe_avg_price_1000             7746
cafe_sum_1500_min_price_avg     5020
cafe_sum_1500_max_price_avg     5020
cafe_avg_price_1500             5020
cafe_sum_2000_min_price_avg     2149
cafe_sum_2000_max_price_avg     2149
cafe_avg_price_2000             2149
cafe_sum_3000_min_price_avg     1173
cafe_sum_3000_max_price_avg     1173
cafe_avg_price_3000             1173
cafe_sum_5000_min_price_avg      425
cafe_sum_5000_max_price_avg      425
cafe_avg_price_5000              425
dtype: int64

# Doing PCA on prices features, imputed by their mean
Reduced to 48 components

# ROV explained by the principal components
[  4.71625316e-01   2.48982341e-01   1.30147324e-01   6.67291849e-02
   4.54631080e-02   3.36207389e-02   1.85241688e-03   8.14501224e-04
   3.66768301e-04   1.96019555e-04   1.48116843e-04   5.41639622e-05
   6.13620892e-12   4.86144742e-12   4.44689724e-12   3.28282038e-12
   2.35381375e-12   8.06960799e-13]

# ROV explained together by the 5 most principal components
0.9629472743393983

# Number other features that highly correlated to
work_male                   24
raion_popul                 24
work_female                 23
work_all                    23
7_14_all                    21
7_14_female                 21
office_count_3000           21
young_male                  21
young_all                   21
0_17_all                    21
0_17_male                   21
0_17_female                 21
children_preschool          21
0_13_all                    21
0_13_male                   21
0_13_female                 21
young_female                21
7_14_male                   21
0_6_all                     21
0_6_male                    21
0_6_female                  21
children_school             21
big_church_count_3000       20
church_count_3000           20
office_count_2000           20
leisure_count_3000          19
church_count_2000           18
big_church_count_2000       18
office_count_1500           18
leisure_count_2000          17
                            ..
ID_metro                     1
kindergarten_km              1
green_zone_km                1
industrial_km                1
water_treatment_km           1
cemetery_km                  1
incineration_km              1
ID_railroad_station_walk     1
ID_railroad_station_avto     1
water_km                     1
mkad_km                      1
big_road1_km                 1
ID_big_road1                 1
ID_big_road2                 1
workplaces_km                1
railroad_km                  1
ID_railroad_terminal         1
bus_terminal_avto_km         1
ID_bus_terminal              1
oil_chemistry_km             1
nuclear_reactor_km           1
ts_km                        1
big_market_km                1
market_shop_km               1
fitness_km                   1
ice_rink_km                  1
hospice_morgue_km            1
detention_facility_km        1
university_km                1
full_sq                      1
Length: 208, dtype: int64

# Counts of feats with more than 0.8 correlation
raion_popul     22
full_all         6
male_f           6
female_f         6
young_all       22
young_male      22
young_female    22
work_all        22
work_male       22
work_female     22
ekder_all       22
ekder_male      22
ekder_female    22
0_6_all         22
0_6_male        22
0_6_female      22
7_14_all        22
7_14_male       22
7_14_female     22
0_17_all        22
0_17_male       22
0_17_female     22
16_29_all        6
16_29_male       6
16_29_female     6
0_13_all        22
0_13_male       22
0_13_female     22
dtype: int64

# Numbers of other features more than 0.9 correlated to
office_count_3000           21
church_count_3000           20
big_church_count_3000       20
office_count_2000           20
leisure_count_3000          19
big_church_count_2000       18
church_count_2000           18
office_count_1500           18
leisure_count_2000          17
church_count_1500           16
big_church_count_1500       16
church_count_1000           14
leisure_count_5000          14
big_church_count_1000       14
leisure_count_1500          13
church_count_5000           12
office_count_5000           12
big_church_count_5000       11
office_count_1000           11
office_raion                10
church_count_500            10
big_church_count_500         9
radiation_km                 8
office_sqm_3000              8
stadium_km                   8
ttk_km                       7
sadovoe_km                   7
zd_vokzaly_avto_km           7
basketball_km                7
metro_min_walk               6
                            ..
trc_count_500                1
prom_part_500                1
ID_railroad_station_avto     1
green_part_500               1
water_km                     1
mkad_km                      1
big_road1_km                 1
ID_big_road1                 1
big_road2_km                 1
ID_big_road2                 1
railroad_km                  1
ID_railroad_terminal         1
bus_terminal_avto_km         1
ID_bus_terminal              1
oil_chemistry_km             1
nuclear_reactor_km           1
ts_km                        1
big_market_km                1
market_shop_km               1
fitness_km                   1
hospice_morgue_km            1
detention_facility_km        1
university_km                1
workplaces_km                1
office_km                    1
additional_education_km      1
church_synagogue_km          1
mosque_km                    1
catering_km                  1
full_sq                      1
Length: 180, dtype: int64

